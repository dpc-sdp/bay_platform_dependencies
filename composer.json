{
  "name": "dpc-sdp/bay_platform_dependencies",
  "description": "Drupal integrations and dependency management for the Bay hosting platform.",
  "type": "drupal-module",
  "license": "GPL-2.0-or-later",
  "require": {
    "drush/drush": "^13",
    "drupal/purge": "^3.4",
    "drupal/section_purge": "4.x",
    "drupal/redis": "~1.8.0",
    "drupal/smtp": "^1.2",
    "dpc-sdp/tide_logs": "^2.0",
    "dpc-sdp/bay_monitoring": "^2.0",
    "cweagans/composer-patches": "^1.7"
  },
  "config": {
    "allow-plugins": {
      "cweagans/composer-patches": true
    }
  },
  "extra": {
    "composer-exit-on-patch-failure": true,
    "enable-patching": true,
    "patches": {
      "drupal/redis": {
        "Implement initial RedisCluster client integration": "https://www.drupal.org/files/issues/2024-10-15/2900947-82.patch",
        "New Relic tracing in RedisCluster client - depends on previous patch": "https://raw.githubusercontent.com/dpc-sdp/bay_platform_dependencies/dfcb4fe39d30cbeeba0d9f7c2d7ec8cb3de8d38f/patches/redis/tide-redis-cluster-newrelic-1.9.patch"
      },
      "drush/drush": {
        "Add --extra option to sql:create, sql:drop, and site:install": "https://patch-diff.githubusercontent.com/raw/drush-ops/drush/pull/6249.patch"
      }
    }
  },
  "repositories": {
    "drupal": {
      "type": "composer",
      "url": "https://packages.drupal.org/8"
    },
    "dpc-sdp/bay_monitoring": {
      "no-api": true,
      "type": "vcs",
      "url": "https://github.com/dpc-sdp/bay_monitoring.git"
    }
  },
  "minimum-stability": "dev",
  "prefer-stable": true
}
